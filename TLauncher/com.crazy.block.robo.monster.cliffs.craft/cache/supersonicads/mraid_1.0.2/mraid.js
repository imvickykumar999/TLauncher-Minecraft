(function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s="144f")})({"144f":function(e,t,i){"use strict";i.r(t);class n{constructor(e){this.onMessageReceivedRef=this.onMessageReceived.bind(this),this.prefixes=e.prefixes,this.receiveMessageHandler=e.receiveMessageHandler,this.inputValidator=e.inputValidator}enableReceiveMessages(e){e.addEventListener("message",this.onMessageReceivedRef,!1)}disableReceiveMessage(e){e.removeEventListener("message",this.onMessageReceivedRef)}onMessageReceived({data:e}){if("string"===typeof e&&e.startsWith(this.prefixes.input))try{const t=this.parseIncomingPayload(e);this.inputValidator(t)&&this.receiveMessageHandler(t)}catch(t){window.console.log("error parsing incoming payload",t)}}parseIncomingPayload(e){const t=e.slice(this.prefixes.input.length);return JSON.parse(t)}sendMessage(e){window.parent.postMessage(`${this.prefixes.output}${JSON.stringify(e)}`,"*")}}var o;(function(e){e["StateChange"]="stateChange",e["Error"]="error",e["Ready"]="ready",e["SizeChange"]="sizeChange",e["ViewableChange"]="viewableChange",e["UpdateMraidData"]="updateMraidData",e["AudioVolumeChange"]="audioVolumeChange",e["NavigationButtonVisibilityChange"]="navigationButtonVisibilityChange"})(o||(o={}));const s="$$MRAID_SERVICE:",r="$$MRAID_AD:";var a,c,u,h,d,l,g,p,f,b,v,m,w,O,C,y,P,S,M,j,V,x,R;(function(e){e["SetMraidStatus"]="SET_MRAID_STATUS"})(a||(a={})),function(e){e["Loading"]="loading",e["Default"]="default",e["Expanded"]="expanded",e["Resized"]="resized",e["Hidden"]="hidden"}(c||(c={})),function(e){e[e["SkipButton"]=1]="SkipButton",e[e["CloseButton"]=2]="CloseButton"}(u||(u={})),function(e){e["StateChange"]="stateChange",e["Error"]="error",e["Ready"]="ready",e["SizeChange"]="sizeChange",e["ViewableChange"]="viewableChange",e["AudioVolumeChange"]="audioVolumeChange",e["NavigationButtonVisibilityChange"]="navigationButtonVisibilityChange",e["UpdateMraidData"]="updateMraidData",e["HandleFunctionCallback"]="connection.handleFunctionCallback"}(h||(h={})),function(e){e["GetMraidData"]="connection.getMraidData",e["MraidAdLoaded"]="connection.mraidAdLoaded",e["Open"]="connection.open",e["OpenStoreUrl"]="connection.openStoreUrl",e["Expand"]="connection.expand",e["SetExpandProperties"]="connection.setExpandProperties",e["UseCustomClose"]="connection.useCustomClose",e["Close"]="connection.close",e["SetResizeProperties"]="connection.setResizeProperties",e["Resize"]="connection.resize",e["SetOrientationProperties"]="connection.setOrientationProperties",e["Supports"]="connection.supports",e["Log"]="connection.log",e["Reward"]="connection.reward",e["GeneralMessage"]="connection.generalMessage",e["ShowNavigationButtons"]="connection.showNavigationButtons",e["SourceFailedToLoad"]="connection.sourceLoadFailed"}(d||(d={})),function(e){e["Center"]="center",e["TopCenter"]="top-center",e["BottomCenter"]="bottom-center"}(l||(l={})),function(e){e[e["OmidStartSession"]=5]="OmidStartSession",e[e["OmidFinishSession"]=6]="OmidFinishSession",e[e["OmidImpressionOccurred"]=7]="OmidImpressionOccurred",e[e["TemplateLoaded"]=10]="TemplateLoaded",e[e["TemplateImpression"]=11]="TemplateImpression"}(g||(g={})),function(e){e["Interstitial"]="interstitial",e["Inline"]="inline"}(p||(p={})),function(e){e["Portrait"]="portrait",e["Landscape"]="landscape",e["None"]="none"}(f||(f={})),function(e){e["InlineVideo"]="inlineVideo",e["Sms"]="sms",e["Tel"]="tel",e["Calendar"]="calendar",e["StorePicture"]="storePicture"}(b||(b={})),function(e){e["TopLeft"]="top-left",e["TopRight"]="top-right",e["BottomLeft"]="bottom-left",e["BottomRight"]="bottom-right"}(v||(v={})),function(e){e["Top"]="top",e["Bottom"]="bottom"}(m||(m={})),function(e){e["Android"]="android",e["IOS"]="ios",e["Web"]="web"}(w||(w={})),function(e){e["Phone"]="phone",e["Tablet"]="tablet"}(O||(O={})),function(e){e["RewardedVideo"]="RewardedVideo",e["Interstitial"]="Interstitial",e["Banner"]="Banner"}(C||(C={})),function(e){e["External"]="external"}(y||(y={})),function(e){e["Native"]="native"}(P||(P={})),function(e){e["NonPrecache"]="nonprecache",e["Precache"]="precache",e["SoftPrecache"]="softprecache"}(S||(S={})),function(e){e[e["No"]=5]="No",e[e["Yes"]=6]="Yes"}(M||(M={})),function(e){e["CloseX"]="xButton",e["CloseBg"]="bg",e["CloseBgSk"]="bgsk"}(j||(j={})),function(e){e["None"]="none",e["Native"]="native",e["Pixel"]="pixel"}(V||(V={})),function(e){e["Basic"]="basic",e["Full"]="full",e["Button"]="button",e["SwipeButton"]="swipe-button"}(x||(x={})),function(e){e["Light"]="light",e["Dark"]="dark"}(R||(R={}));class z{constructor(e){this.callbacks=new Map,this.isAdViewable=!1,this.status=c.Loading,this.version="2.0",this.playerVersion="",this.sdkAbName=-1,this.isCloseButtonVisible=!1,this.audioVolume=0,this.placementType=p.Inline,this.expandProperties={height:0,width:0,useCustomClose:!1,isModal:!1},this.orientationProperties={allowOrientationChange:!1,forceOrientation:f.None},this.resizeProperties={height:0,width:0,offsetX:0,offsetY:0,customClosePosition:v.TopRight,allowOffscreen:!0},this.screenSize={height:0,width:0},this.currentPosition=Object.assign(Object.assign({},this.screenSize),{x:0,y:0}),this.defaultPosition=Object.assign(Object.assign({},this.screenSize),{x:0,y:0}),this.supportFeaturesList={[b.InlineVideo]:!0,[b.Sms]:!1,[b.Tel]:!1,[b.Calendar]:!1,[b.StorePicture]:!1},this.subscriptions=new Map;const t={prefixes:{input:s,output:r},receiveMessageHandler:this.handleIncomingMessage.bind(this),inputValidator:k};this.messenger=null!==e&&void 0!==e?e:new n(t)}addMessagesListener(e){this.messenger.enableReceiveMessages(e)}removeMessageListener(e){this.messenger.disableReceiveMessage(e)}addEventListener(e,t){const i=this.subscriptions.get(e);i?i.add(t):this.subscriptions.set(e,new Set([t]))}removeEventListener(e,t){const i=this.subscriptions.get(e);1===(null===i||void 0===i?void 0:i.size)||void 0===t?this.subscriptions.delete(e):null===i||void 0===i||i.delete(t)}getVersion(){return this.version}handleIncomingMessage(e){switch(e.name){case h.StateChange:this.onStateChange(e.data);break;case h.Ready:this.onReady();break;case h.UpdateMraidData:this.setData(e.data);break;case h.Error:this.onError(e.data);break;case h.AudioVolumeChange:this.onAudioVolumeChange(e.data);break;case h.SizeChange:this.onSizeChange(e.data.width,e.data.height);break;case h.ViewableChange:this.onViewableChange(e.data);break;case h.NavigationButtonVisibilityChange:this.onNavigationButtonVisibilityChange(e.data);break;default:}}getState(){return this.status}getPlacementType(){return this.placementType}isViewable(){return this.isAdViewable}expand(e){window.console.log("MRAID Client | expand is not supported, url: "+e)}getExpandProperties(){return Object.assign({},this.expandProperties)}setExpandProperties(e){this.isValidExpandPayload(e)&&(this.expandProperties=Object.assign(Object.assign({},this.expandProperties),e))}getOrientationProperties(){return Object.assign({},this.orientationProperties)}setOrientationProperties(e){this.isValidOrientationPayload(e)&&(this.orientationProperties=Object.assign(Object.assign({},this.orientationProperties),e))}getResizeProperties(){return Object.assign({},this.resizeProperties)}setResizeProperties(e){this.isValidResizePayload(e)&&(this.resizeProperties=Object.assign(Object.assign({},this.resizeProperties),e))}resize(){window.console.log("MRAID Client | resize is not supported in ad-player")}useCustomClose(e){window.console.log("MRAID Client | useCustomClose is not supported in ad-player.\n\t\t Params: "+JSON.stringify(e))}getCurrentPosition(){return Object.assign({},this.currentPosition)}getDefaultPosition(){return Object.assign({},this.defaultPosition)}getScreenSize(){return Object.assign({},this.screenSize)}getAudioVolume(){return this.audioVolume}supports(e){var t;return"string"===typeof e&&null!==(t=this.supportFeaturesList[e])&&void 0!==t&&t}isNavigationButtonVisible(){return this.isCloseButtonVisible}getPlayerVersion(){return this.playerVersion}getSdkAbName(){return this.sdkAbName}sendOpen(e){this.messenger.sendMessage({name:d.Open,arguments:{url:e}})}sendOpenStoreUrl(){this.messenger.sendMessage({name:d.OpenStoreUrl})}sendClose(){this.messenger.sendMessage({name:d.Close})}sendReward(){this.messenger.sendMessage({name:d.Reward})}sendGeneralMessage(e){this.messenger.sendMessage({name:d.GeneralMessage,data:e})}sendLoaded(){this.messenger.sendMessage({name:d.MraidAdLoaded})}sendShowNavigationButtons(){this.messenger.sendMessage({name:d.ShowNavigationButtons})}isValidOrientationPayload(e){return!!e&&"object"===typeof e&&((null===e||void 0===e?void 0:e.hasOwnProperty("allowOrientationChange"))||!!(null===e||void 0===e?void 0:e.hasOwnProperty("forceOrientation")))}isValidResizePayload(e){return!!e&&"object"===typeof e&&((null===e||void 0===e?void 0:e.hasOwnProperty("offsetX"))||(null===e||void 0===e?void 0:e.hasOwnProperty("offsetY"))||(null===e||void 0===e?void 0:e.hasOwnProperty("height"))||(null===e||void 0===e?void 0:e.hasOwnProperty("width"))||(null===e||void 0===e?void 0:e.hasOwnProperty("customClosePosition"))||!!(null===e||void 0===e?void 0:e.hasOwnProperty("allowOffscreen")))}isValidExpandPayload(e){return!!e&&"object"===typeof e&&((null===e||void 0===e?void 0:e.hasOwnProperty("height"))||(null===e||void 0===e?void 0:e.hasOwnProperty("width"))||(null===e||void 0===e?void 0:e.hasOwnProperty("useCustomClose"))||!!(null===e||void 0===e?void 0:e.hasOwnProperty("isModal")))}setData(e){this.placementType=e.placementType,this.screenSize=e.screenSize,this.audioVolume=e.audioVolume,this.isAdViewable=e.isViewable,this.playerVersion=e.playerVersion,this.sdkAbName=e.sdkAbName}trigger(e,t){const i=this.subscriptions.get(e);i&&i.forEach(e=>e(t))}onStateChange(e){this.status=e,this.trigger(o.StateChange,e)}onReady(){this.trigger(o.Ready)}onError(e){this.trigger(o.Error,e)}onAudioVolumeChange(e){this.audioVolume=e,this.trigger(o.AudioVolumeChange,e)}onSizeChange(e,t){this.screenSize={width:e,height:t},this.trigger(o.SizeChange,{width:e,height:t})}onViewableChange(e){this.status!==c.Loading&&(this.isAdViewable=e,this.trigger(o.ViewableChange,e))}onNavigationButtonVisibilityChange(e){this.isCloseButtonVisible=e.isVisible,this.trigger(o.NavigationButtonVisibilityChange,{isVisible:e.isVisible,button:e.button})}}function k(e){return"string"===typeof e.name}function A(e){e.addMessagesListener(window),e.sendLoaded();const t=()=>"2.0",i=(t,i)=>{e.addEventListener(t,i)},n=(t,i)=>{e.removeEventListener(t,i)},o=()=>e.getState(),s=()=>e.getPlacementType(),r=()=>e.isViewable(),a=t=>e.sendOpen(t),c=()=>e.sendOpenStoreUrl(),u=t=>e.expand(t),h=()=>e.getExpandProperties(),d=t=>e.setExpandProperties(t),l=()=>e.getOrientationProperties(),p=t=>e.setOrientationProperties(t),f=()=>e.getResizeProperties(),b=t=>e.setResizeProperties(t),v=()=>e.resize(),m=()=>e.sendClose(),w=t=>e.useCustomClose(t),O=()=>e.getCurrentPosition(),C=()=>P(),y=()=>e.getDefaultPosition(),P=()=>e.getScreenSize(),S=()=>e.getAudioVolume(),M=t=>e.supports(t),j=()=>e.sendReward(),V=()=>e.sendShowNavigationButtons(),x=t=>{g[t.name]&&e.sendGeneralMessage(t)},R=()=>e.isNavigationButtonVisible(),z=()=>e.getPlayerVersion(),k=()=>e.getSdkAbName();return{getVersion:t,addEventListener:i,removeEventListener:n,getState:o,getPlacementType:s,isViewable:r,expand:u,getExpandProperties:h,getOrientationProperties:l,getResizeProperties:f,open:a,openStoreUrl:c,setExpandProperties:d,setOrientationProperties:p,setResizeProperties:b,resize:v,close:m,useCustomClose:w,getCurrentPosition:O,getMaxSize:C,getDefaultPosition:y,getScreenSize:P,getAudioVolume:S,supports:M,reward:j,generalMessage:x,isNavigationButtonVisible:R,getPlayerVersion:z,getSdkAbName:k,showNavigationButtons:V}}window.mraid=A(new z)}});